<%@ page language="java" contentType="text/html; charset=windows-1255"
pageEncoding="windows-1255"%>

<html>
<head>
    <meta charset="windows-1255">
    <title>Insert title here</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

</head>
<body>
<div id="page" data-role="page" >
    <div data-role="header" >
        <h1>calcultion</h1>
    </div>


    <div  data-role="content">
        <form method="post">


            <input type="number" name="num1" id="num1"  value="">

            <select name="operator" id="operator" data-mini="true">
                <option value="add">+</option>
                <option value="sub">-</option>
                <option value="mul">*</option>
                <option value="div">/</option>

            </select>

            <input type="number" name="num2" id="num2" value="">

            <input type="button" value="count" id="count" onClick="handleCount()">
        </form>


    </div>


    <div id="message">

    </div>
    <script type="text/javascript">

 handleCount = function(){
 console.log("kkk");
    var num1= document.getElementById("num1").value;
     var operator = document.getElementById("operator").value


    var num2 = document.getElementById("num2").value;

    console.log(operator);
    if(num1==""||num2==""){
    	showMessage("There are empty fields")
    }

    	else{

        var request;
if (navigator.appName == "Microsoft Internet Explorer")
{
request = new ActiveXObject("Microsoft.XMLHTTP");
}
else
{
request = new XMLHttpRequest();
}

request.abort();
request.open(
"GET",
"http://localhost:8080/"+num1+"/"+num2+"/"+operator+"", true);
request.onreadystatechange= function()
{
if (request.readyState == 4 && request.status == 200)
{
console.log("999");
showMessage(request.responseText)

}
else{showMessage("not work")}
};
request.send(null);
}
    }



showMessage= function(text) {
    document.getElementById("message").innerText = text;
}
</script>


</div>



</body>
</html>